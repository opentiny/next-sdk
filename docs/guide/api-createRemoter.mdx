---
title: 'createRemoter 函数'
---

```typescript
import { createRemoter } from '@opentiny/next-sdk'
```

`createRemoter` 函数用于创建一个智能遥控器浮动块组件，它提供了一个悬浮在页面右下角的交互式浮动按钮，包含二维码生成、AI对话和遥控指令等功能。

## 功能特性

- **浮动按钮**: 固定在页面右下角的圆形浮动按钮
- **下拉菜单**: 点击浮动按钮展开功能菜单
- **二维码生成**: 生成包含会话ID的二维码，支持移动端扫码
- **AI对话**: 可自定义AI对话功能回调
- **遥控指令**: 提供遥控指令输入界面

## 基本使用

```typescript
import { createRemoter } from '@opentiny/next-sdk'

// 创建遥控器实例
const remoter = createRemoter({
  qrCodeUrl: 'https://your-app.com/remote-control',
  sessionId: 'your-session-id',
  onShowAIChat: () => {
    // 显示AI对话界面
    showAIChatDialog()
  }
})
```

## 菜单项配置

### 默认菜单项

系统默认提供以下三个菜单项：

1. **qr-code** - 弹出二维码
2. **ai-chat** - 弹出AI对话框
3. **remote-control** - 发送遥控指令

### 自定义菜单项显示

```typescript
// 隐藏二维码菜单项
const remoter = createRemoter({
  sessionId: 'your-session-id',
  onShowAIChat: () => {
    console.log('显示AI对话框')
  },
  menuItems: [
    {
      action: 'qr-code',
      show: false // 隐藏二维码菜单项
    }
  ]
})
```

### 自定义菜单项文本

```typescript
// 自定义菜单项文本
const remoter = createRemoter({
  sessionId: 'your-session-id',
  onShowAIChat: () => {
    console.log('显示AI对话框')
  },
  menuItems: [
    {
      action: 'ai-chat',
      text: '智能对话' // 自定义文本
    },
    {
      action: 'remote-control',
      text: '远程控制' // 自定义文本
    }
  ]
})
```

### 完整配置示例

```typescript
// 完整配置示例
const remoter = createRemoter({
  sessionId: 'your-session-id',
  qrCodeUrl: 'https://your-custom-url.com',
  onShowAIChat: () => {
    console.log('显示AI对话框')
  },
  menuItems: [
    {
      action: 'qr-code',
      show: true,
      text: '扫码连接',
      icon: `<svg>...</svg>` // 自定义图标
    },
    {
      action: 'ai-chat',
      show: true,
      text: 'AI助手'
    },
    {
      action: 'remote-control',
      show: false // 完全隐藏遥控指令菜单项
    }
  ]
})
```

## 配置选项

| 参数         | 类型             | 必填 | 默认值                                     | 说明                   |
| ------------ | ---------------- | ---- | ------------------------------------------ | ---------------------- |
| sessionId    | string           | ✅   | -                                          | 被遥控页面的会话ID     |
| onShowAIChat | function         | ❌   | -                                          | 显示AI对话框的回调函数 |
| qrCodeUrl    | string           | ❌   | https:\/\/ai.opentiny.design\/next-remoter | 遥控端页面地址         |
| menuItems    | MenuItemConfig[] | ❌   | 默认配置                                   | 菜单项配置数组         |

### MenuItemConfig 接口

```typescript
interface MenuItemConfig {
  /** 菜单项标识 */
  action: 'qr-code' | 'ai-chat' | 'remote-control'
  /** 是否显示该菜单项 */
  show?: boolean
  /** 菜单项文本 */
  text?: string
  /** 菜单项图标SVG */
  icon?: string
}
```

## 销毁组件

```typescript
// 销毁组件，清理DOM和事件监听器
remoter.destroy()
```

## Vue 技术栈扩展

通过基于 `createRemoter` 的扩展包 `@opentiny/next-remoter` ，可以轻松在 Vue 技术栈中使用。

```vue
<template>
  <div>
    <tiny-remoter :session-id="sessionId" :prompt-items="promptItems" :suggestion-pill-items="suggestionPillItems" />
  </div>
</template>

<script setup lang="ts">
import { TinyRemoter } from '@opentiny/next-remoter'
import { ref, h } from 'vue'

const sessionId = ref('your-session-id')

// 自定义快捷提示词
const promptItems = ref([
  {
    label: '智能操作网页',
    description: '帮我选中最贵的手机商品',
    icon: h('span', { style: { fontSize: '18px' } }, '🕹')
  }
])

// 自定义建议选项
const suggestionPillItems = ref([
  {
    label: '智能操作网页',
    description: '在商品列表中',
    icon: h('span', { style: { fontSize: '18px' } }, '🕹')
  }
])
</script>
```
